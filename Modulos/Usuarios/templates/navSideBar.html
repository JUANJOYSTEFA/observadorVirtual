{% load static %}
<!DOCTYPE html>
<html lang="es">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block tittle %} {% endblock %}</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Bootstrap Icons -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
        <link rel="stylesheet" href="{% static 'css/stylesHome.css' %}">
        <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
    </head>

    <body>
        <nav class="navbar bg-body-tertiary px-3 d-flex justify-content-between align-items-center position-relative">
            <!-- Botón sidebar -->
            <button class="btn btn-outline-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu">
                <i class="bi bi-list"></i>
            </button>

            <!-- Logo centrado -->
            <div class="navbar-center transition-logo">
                <a class="navbar-brand" href="{% url 'home' %}">
                    <img src=" {% static 'img/logoProyecto.png' %}" alt="Logo" width="40" height="24">
                </a>
            </div>

            <div class="d-flex align-items-center gap-3">
                <!-- Buscar -->
                <div class="box transition-box">
                    <form action="{% url 'buscarEstudiantes' %}" method="get"
                        style="display: flex; align-items: center;">
                        <input type="text" name="search" placeholder="Buscar..." required>
                        <button type="submit"
                            style="background: none; border: none; cursor: pointer; color: #2f131e; padding: 0 0 0 5px;">
                            <i class="bi bi-search"></i>
                        </button>
                    </form>
                </div>

                <!-- Icono de usuario -->
                {% if isLogged %}
                <a tabindex="0" class="btn btn-outline-dark rounded" role="button" data-bs-toggle="popover"
                    data-bs-trigger="focus" data-bs-html="true" data-bs-custom-class="custom-popover" title="Bienvenido"
                    data-bs-content="{{ userNombre }}<br><a href='{% url 'cerrarSesion' %}' class='text-decoration-none'><i class='bi bi-box-arrow-right me-2'></i>Salir</a>">
                    <i class='bi bi-person'></i>
                </a>
                {% else %}
                <a class="btn btn-outline-dark rounded" href="{% url 'login' %}">
                    <i class="bi bi-person"></i>
                </a>
                {% endif %}



            </div>
        </nav>

        <!-- Sidebar (offcanvas) -->
        <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarMenu">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title">Menú</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="nav flex-column">

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'home' %}"><i class="bi bi-house-door me-2"></i>Inicio</a>
                    </li>

                    <!-- Dropdown 1 -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex justify-content-between align-items-center"
                            data-bs-toggle="collapse" href="#submenu1" role="button" aria-expanded="false"
                            aria-controls="submenu1">
                            <span class="ciclos"><i class="bi bi-folder me-2"></i>Ciclo inicial</span>
                        </a>
                        <div class="collapse ps-3" id="submenu1">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'jardin'%}">Jardin</a>
                                </li>
                                <li class="nav-item"><a class="nav-link"
                                        href="{% url 'salones' 'transicion'%}">Transiciones</a></li>
                            </ul>
                        </div>
                    </li>

                    <!-- Dropdown 2 -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex justify-content-between align-items-center"
                            data-bs-toggle="collapse" href="#submenu2" role="button" aria-expanded="false"
                            aria-controls="submenu2">
                            <span class="ciclos"><i class="bi bi-folder me-2"></i>Ciclo 1</span>
                        </a>
                        <div class="collapse ps-3" id="submenu2">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'primero'%}">Primero</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'segundo'%}">Segundo</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Dropdown 3 -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex justify-content-between align-items-center ciclos"
                            data-bs-toggle="collapse" href="#submenu3" role="button" aria-expanded="false"
                            aria-controls="submenu3">
                            <span class="ciclos"><i class="bi bi-folder me-2"></i>Ciclo 2</span>
                        </a>
                        <div class="collapse ps-3" id="submenu3">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'tercero'%}">Tercero</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'cuarto'%}">Cuarto</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'quinto'%}">Quinto</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Dropdown 4 -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex justify-content-between align-items-center"
                            data-bs-toggle="collapse" href="#submenu4" role="button" aria-expanded="false"
                            aria-controls="submenu4">
                            <span class="ciclos"><i class="bi bi-folder me-2"></i>Ciclo 3</span>
                        </a>
                        <div class="collapse ps-3" id="submenu4">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'sexto'%}">Sexto</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'septimo'%}">Septimo</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'octavo'%}">Octavo</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Dropdown 5 -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex justify-content-between align-items-center"
                            data-bs-toggle="collapse" href="#submenu5" role="button" aria-expanded="false"
                            aria-controls="submenu5">
                            <span class="ciclos"><i class="bi bi-folder me-2"></i>Ciclo 4</span>
                        </a>
                        <div class="collapse ps-3" id="submenu5">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'noveno'%}">Noveno</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'decimo'%}">Decimo</a>
                                </li>
                                <li class="nav-item"><a class="nav-link" href="{% url 'salones' 'once'%}">Once</a></li>
                            </ul>
                        </div>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'cerrarSesion' %}"><i
                                class="bi bi-box-arrow-right me-2"></i>Salir</a>
                    </li>
                </ul>
            </div>
        </div>
        {% block content %}

        {% endblock %}
    </body>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
            var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
                return new bootstrap.Popover(popoverTriggerEl)
            })
        });
    </script>

    </body>

</html>
